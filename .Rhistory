grep("^United",GPD$countryNames)
grep("^United",GPD$CountryCode)
grep("^United",GPD$Short.Name)
GPD <- read.csv("./data/getdata_data_GDP.csv", skip = 4, nrows = 190) %>%
select(X,X.1,X.3,X.4) %>%
rename(CountryCode = X, Ranking = X.1, Short.Name = X.3, Economy = X.4)
sub(",","",GPD$Economy)
num <- sub(",","",GPD$Economy)
as.numeric(num)
num <- sub(",+","",GPD$Economy)
num''
num
num <- gsub(",+","",GPD$Economy)
num
as.numeric(num)
mean(as.numeric(num))
GPD <- read.csv("./data/getdata_data_GDP.csv", skip = 4, nrows = 190) %>%
select(X,X.1,X.3,X.4) %>%
rename(CountryCode = X, Ranking = X.1, Short.Name = X.3, Economy = X.4)
EDT <- read.csv("./data/getdata_data_EDSTATS_Country.csv")
m1 <- merge(GPD, EDT, by.x = "CountryCode", by.y = "CountryCode")
m1$Ranking
?grep
grep("Aoril",m1$Special.Notes)
grep("April",m1$Special.Notes)
grep("June",m1$Special.Notes)
grepl("June",m1$Special.Notes)
mean(grepl("June",m1$Special.Notes))
sum(grepl("June",m1$Special.Notes))
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
names(sampleTimes)
sampleTimes
class(sampleTimes)
year("2017-05-06")
year(sampleTimes)
year(sampleTimes)==2012
sum(year(sampleTimes)==2012)
wday(sampleTimes)
sum(wday(sampleTimes)==1)
sum(wday(sampleTimes)==2)
year(sampleTimes)==2012 && wday(sampleTimes)==2
year(sampleTimes)==2012 & wday(sampleTimes)==2
sum(year(sampleTimes)==2012 & wday(sampleTimes)==2)
sum(grepl("June",m1$Special.Notes))
sum(grepl("Fiscal year end: June",m1$Special.Notes))
sum(year(sampleTimes)==2012)
mean(as.numeric(num))
?read
?read.delim2
read.delim2("UCI HAR Dataset/test/body_acc_x_test.txt", sep = " ")
read.delim2("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt", sep = " ")
read.delim2("UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt", sep = " ", header = "false")
body_acc <- "UCI HAR Dataset/test/Inertial Signals/body_acc_x_test.txt"
scan(fileName, character(), quote = "")
body_acc
read.2(body_acc, sep = " ", header = "false")
scan(body_acc, character(), quote = "")
aa <-  scan(body_acc, numeral(), quote = "")
aa <-  scan(body_acc, numeric(), quote = "")
head(aa,20)
class(aa)
base_address <- "UCI HAR Dataset/test/Inertial Signals/"
file_body_acc_x <- base_address + "body_acc_x_test.txt"
file_body_acc_y <- base_address + "body_acc_y_test.txt"
file_body_acc_z <- base_address + "body_acc_z_test.txt"
file_body_acc_x <- base_address + "body_acc_x_test.txt"
file_body_acc_x <- paste(base_address,"body_acc_x_test.txt")
file_body_acc_y <- paste(base_address,"body_acc_y_test.txt")
file_body_acc_z <- paste(base_address,"body_acc_z_test.txt")
scan(file_body_acc_x, numeric(), quote = "")
scan(file_body_acc_y, numeric(), quote = "")
scan(file_body_acc_z, numeric(), quote = "")
scan(file_body_acc_x, numeric(), quote = "")
file_body_acc_x <- paste(base_address,"body_acc_x_test.txt", sep = "")
file_body_acc_x
file_body_acc_y <- paste(base_address,"body_acc_y_test.txt", sep = "")
file_body_acc_z <- paste(base_address,"body_acc_z_test.txt", sep = "")
scan(file_body_acc_x, numeric(), quote = "")
scan(file_body_acc_y, numeric(), quote = "")
?scan
body_acc_x <- scan(file_body_acc_x, numeric())
head(body_acc_x,50)
filepath_General <- "UCI HAR Dataset/test/"
filepath_Signals <- paste(filepath_General,"Inertial Signals/", sep = "")
filepath_Signals
!file.exists(filepath_Signals) || !file.exists(filepath_Signals)
!file.exists(filepath_Signals)
file.exists(filepath_Signals)
!file.exists(filepath_General)
file.exists(filepath_General)
file_body_acc_x <- paste(filepath_Signals,"body_acc_x_test.txt", sep = "")
file_body_acc_x
body_acc_x <- scan(file_body_acc_x, numeric())
file.exists(filepath_Signals)
file.exists("UCI HAR Dataset/test/Inertial Signals")
filepath_Signals[[-1]]
filepath_Signals[[0]]
filepath_Signals[0]
filepath_Signals[1]
filepath_Signals[-1]
filepath_Signals[-1]  if(!file.exists("UCI HAR Dataset/test") || !file.exists("UCI HAR Dataset/test/Inertial Signals"))
{
stop("ERROR: Invalid filepath_Signals")
}
!file.exists("UCI HAR Dataset/test") || !file.exists("UCI HAR Dataset/test/Inertial Signals")
file_subject <- paste(filepath_General,"subject_test.txt", sep = "\n")
file_subject
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_subject
subject <- scan(file_subject, numeric())
head(subject,50)
as.numeric("pollo4")
grep("[A-Z]","WALKING")
grep("[A-Z]","WALKING", value=TRUE)
grep("[A-Z]","WALKING4", value=TRUE)
grep("^[A-Z]","WALKING4", value=TRUE)
?gsub
str <- "WALKING4"
gsub("([A-Z]+).*$", "\\1", str)
str
str <- "WALKING_UPSTAIRS3"
gsub("^([A-Z]+).*$", "\\1", str)
gsub("^([A-Z]+).*$", "\\1", str)
str
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
SITTING
STR <- SITTING5
STR <- "SITTING5"
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
str <- "SITTING5"
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
str <- "LAYIN"
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
str <- 1
gsub("^(([A-Z]|[_])+).*$", "\\1", str)
gsub("^(([A-Z]|[_])+)$", "\\1", str)
gsub("^(([A-Z]|[_])*)$", "\\1", str)
gsub("^(([A-Z]|[_])+)*$", "\\1", str)
gsub("([A-Z]|[_])*", "\\1", str)
gsub("^[a-zA-Z]+$", "\\1", str)
gsub("^[1-9]+$", "\\1", str)
class(str)
gsub("^[0-9]+$", "\\1", str)
gsub("^[a-z]+$", "\\1", str)
grepl("^(([A-Z]|[_])+).*$",str)
subject <- scan(file_subject, character(), quote = "")
?sapply
activity_label <- scan(file_activity_label, character(), quote = "")
file_activity_label <- "UCI HAR Dataset/"
file_activity_label <- "UCI HAR Dataset/"
activity_label <- scan(file_activity_label, character(), quote = "")
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
activity_label <- scan(file_activity_label, character(), quote = "")
activity_label
cleanLabels <- function(pLabels){
clean <- character()
for (labels in pLabels) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
#gsub("^(([A-Z]|[_])+).*$", "\\1", pLabels)
c(clean,pLabels)
}
}
clean
}
cleanLabels(activity_label)
clean <- character()
cleanLabels <- function(pLabels){
clean <- character()
for (labels in pLabels) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
#gsub("^(([A-Z]|[_])+).*$", "\\1", pLabels)
clean = c(clean,pLabels)
}
}
clean
}
cleanLabels(activity_label)
cleanLabels <- function(pLabels){
clean <- character()
for (labels in pLabels) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
#gsub("^(([A-Z]|[_])+).*$", "\\1", pLabels)
clean = c(clean,labels)
}
}
clean
}
cleanLabels(activity_label)
activity_label <- cleanLabels(activity_label)
activity_label
activity_code <- scan(file_activity_code, numeric())
activity_label <- scan(file_activity_label, character(), quote = "")
sapply(activity_label, function(x) if(grepl("^(([A-Z]|[_])+).*$",labels)) x)
sapply(activity_label, function(x) if(grepl("^(([A-Z]|[_])+).*$",x)) x)
source("Project_1.R")
readTest()
file_activity_label
activity_label
activity_label[1]
activity_label[[4]]
activity_label[4]
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
activity_code <- scan(file_activity_code, numeric())
cleanLabels <- function(pLabel_codes){
## Filename
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
## Data
activity_label <- scan(file_activity_label, character(), quote = "")
## Remove the numbers of the vector
clean_label <- character()
for (labels in pLabels) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
clean_label = c(clean_label,labels)
}
}
## Match the labels with their names
result <- character()
for (codes in pLabel_codes) {
result = c(result, clean_label[codes])
}
}
cleanLabels(activity_code)
cleanLabels(activity_code)cleanLabels <- function(pLabel_codes){
## Filename
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
## Data
activity_label <- scan(file_activity_label, character(), quote = "")
## Remove the numbers of the vector
clean_label <- character()
for (labels in activity_label) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
clean_label = c(clean_label,labels)
}
}
## Match the labels with their names
result <- character()
for (codes in pLabel_codes) {
result = c(result, clean_label[codes])
}
return(result)
}
cleanLabels <- function(pLabel_codes){
## Filename
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
## Data
activity_label <- scan(file_activity_label, character(), quote = "")
## Remove the numbers of the vector
clean_label <- character()
for (labels in activity_label) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
clean_label = c(clean_label,labels)
}
}
## Match the labels with their names
result <- character()
for (codes in pLabel_codes) {
result = c(result, clean_label[codes])
}
return(result)
}.
cleanLabels <- function(pLabel_codes){
## Filename
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
## Data
activity_label <- scan(file_activity_label, character(), quote = "")
## Remove the numbers of the vector
clean_label <- character()
for (labels in activity_label) {
if(grepl("^(([A-Z]|[_])+).*$",labels)){
clean_label = c(clean_label,labels)
}
}
## Match the labels with their names
result <- character()
for (codes in pLabel_codes) {
result = c(result, clean_label[codes])
}
return(result)
}
cleanLabels(activity_code)
source("Project_1.R")
object <- readTest()
filepath_General <- "UCI HAR Dataset/test/"
filepath_Signals <- paste(filepath_General,"Inertial Signals/", sep = "")
file_body_acc_x <- paste(filepath_Signals,"body_acc_x_test.txt", sep = "")
file_body_acc_y <- paste(filepath_Signals,"body_acc_y_test.txt", sep = "")
file_body_acc_z <- paste(filepath_Signals,"body_acc_z_test.txt", sep = "")
## Data
body_acc_x <- scan(file_body_acc_x, numeric())
body_acc_y <- scan(file_body_acc_y, numeric())
body_acc_z <- scan(file_body_acc_z, numeric())
data.frame( body_acc_x, body_acc_y, body_acc_z)
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_variable_set <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
subject <- scan(file_subject, numeric())
variable_set <- scan(file_variable_set, numeric())
activity_code <- scan(file_activity_code, numeric())
activity_label <- cleanLabels(activity_code)
data.frame(variable_set, activity_label, subject)
## Filenames
file_body_acc_x <- paste(filepath_Signals,"body_acc_x_test.txt", sep = "")
file_body_acc_y <- paste(filepath_Signals,"body_acc_y_test.txt", sep = "")
file_body_acc_z <- paste(filepath_Signals,"body_acc_z_test.txt", sep = "")
file_body_gyro_x <- paste(filepath_Signals,"body_gyro_x_test.txt", sep = "")
file_body_gyro_y <- paste(filepath_Signals,"body_gyro_y_test.txt", sep = "")
file_body_gyro_z <- paste(filepath_Signals,"body_gyro_z_test.txt", sep = "")
file_total_acc_x <- paste(filepath_Signals,"total_acc_x_test.txt", sep = "")
file_total_acc_y <- paste(filepath_Signals,"total_acc_y_test.txt", sep = "")
file_total_acc_z <- paste(filepath_Signals,"total_acc_z_test.txt", sep = "")
body_acc_x <- scan(file_body_acc_x, numeric())
body_acc_y <- scan(file_body_acc_y, numeric())
body_acc_z <- scan(file_body_acc_z, numeric())
body_gyro_x <- scan(file_body_gyro_x, numeric())
body_gyro_y <- scan(file_body_gyro_y, numeric())
body_gyro_z <- scan(file_body_gyro_z, numeric())
total_acc_x <- scan(file_total_acc_x, numeric())
total_acc_y <- scan(file_total_acc_y, numeric())
total_acc_z <- scan(file_total_acc_z, numeric())
data.frame(variable_set, activity_label, subject, body_acc_x, body_acc_y, body_acc_z, body_gyro_x, body_gyro_y, body_gyro_z,
total_acc_x, total_acc_y, total_acc_z)
nrow(body_acc_x)
length(body_acc_x)
length(body_acc_y)
length(body_acc_z)
length(body_gyro_x)
length(body_gyro_y)
length(body_gyro_z)
length(total_acc_x)
length(total_acc_y)
length(total_acc_z)
length(subject)
length(variable_set)
length(activity_code)
read.table(file_body_acc_x, header = F)
head(read.table(file_body_acc_x, header = F),20)
read.table(file_body_acc_x, header = F)[2,1:10]
read.table(file_body_acc_x, header = F)[1,1:10]
read.table(file_body_acc_x, header = F)[1:5,1:10]
?read.table
read.table(file_body_acc_x, header = F, sep = " ")[1:5,1:10]
read.table(file_body_acc_x, header = F, sep = " )
)
read.table(file_body_acc_x, header = F, sep = " ")
atest <- read.table(file_body_acc_x, header = F)
nrows(atest)
nrow(atest)
ncolumn(atest)
ncol(atest)
atest[1,1]
atest[1,2]
class(atest)
class(atest[1])
class(atest[1,1])
body_acc_x <- read.table(file_body_acc_x)
dim(body_acc_x)
body_gyro_x <- read.table(file_body_gyro_x)
sapply(body_acc_x, mean)
apply(body_acc_x, 1,mean)
mean(body_acc_x[1,])
body_acc_x[1,]
mean/9body_acc_x[1,])
mean(body_acc_x[1,])
sum(body_acc_x[1,])/128
atest <- apply(body_acc_x, 1,mean)
class(atest)
length(atest)
length(subject)
body_acc_x_sd <- apply(body_acc_x, 1,sd)
body_acc_x_sd
length(body_acc_x_sd)
source("Project_1.R")
source("Project_1.R")
readTest()
test<-readTest()
names(test)
source("Project_1.R")
DS <- main()
?write.table
write.table(x,"filename.txt",row.name=FALSE)
write.table(DS,"filename.txt",row.name=FALSE)
file_features <-"UCI HAR Dataset/features.txt"
features <- read.table(file_features)
index <- grep("-mean()",features)
index
grep("(-mean\(\))",features)
grep("(-mean(\))",features)
grep("(-mean())",features)
grep("(-mean",features)
grep("(-mean)",features)
grep("(-mean)+",features)
grep(".*(-mean)+.*",features)
grep("^.*(-mean)+.*$",features)
features$V2
grep("^.*(-mean)+.*$",features$V2)
grep("^.*(-mean())+.*$",features$V2)
grep("^.*[(-mean())|-std()]+.*$",features$V2)
grep("^.*[(-mean())|(-std())]+.*$",features$V2)
grep("^.*[(-std())]+.*$",features$V2)
grep("^.*(-mean())+.*$",features$V2)
grep("^.*(-mean\\()+.*$",features$V2)
grep("^.*(-mean\\(\\)+.*$",features$V2)
grep("^.*(-mean\\(\\)+.*$",features$V2)
grep("^.*(-mean\(\)+.*$",features$V2)
grep("^.*(-mean[(][]])+.*$",features$V2)
grep("^.*(-mean[(][)])+.*$",features$V2)
grep("^.*(-std[(][)])+.*$",features$V2)
grep("^.*(-(std|mean)[(][)])+.*$",features$V2)
length( grep("^.*(-(std|mean)[(][)])+.*$",features$V2))
index <- grep("^.*(-(std|mean)[(][)])+.*$",features$V2)
filepath_General <- "UCI HAR Dataset/test/"
file_variable_set <- paste(filepath_General,"X_test.txt", sep = "")
variable_set  <- read.table(file_variable_set)
activity_code[index,]
variable_set[index,]
dim(variable_set)
dim(features)
variable_set[,index]
grepl("^(([A-Z]|[_])+).*$",activity_label)
## Filename
file_activity_label <- "UCI HAR Dataset/activity_labels.txt"
## Data
activity_label <- scan(file_activity_label, character(), quote = "")
grepl("^(([A-Z]|[_])+).*$",activity_label)
activity_label[grepl("^(([A-Z]|[_])+).*$",activity_label)]
sapply(pLabel_codes, function(x) activity_label[x])
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_variable_set <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
activity_code <- scan(file_activity_code, numeric())
sapply(activity_code, function(x) activity_label[x])
resu <- sapply(activity_code, function(x) activity_label[x])
dim(resu)
class(resu)
resu[1:25]
getFeatures <- function(pMeasurement){
file_features <-"UCI HAR Dataset/features.txt"
features <- read.table(file_features)
index <- grep("^.*(-(std|mean)[(][)])+.*$",features$V2)
pMeasurement[,index]
}
resu <- getFeatures(variable_set)
resu[1:5,1:5]
getwd()
names(features)[index]
features[index,2]
class(variable_set[,index])
getFeatures <- function(pMeasurement){
file_features <-"UCI HAR Dataset/features.txt"
features <- read.table(file_features)
index <- grep("^.*(-(std|mean)[(][)])+.*$",features$V2)
result <- pMeasurement[,index]
colnames(result) <- features[index,2]
return(result)
}
resu <- getFeatures(variable_set)
resu[1:5]
setwd("C:/Users/Alex/Documents/GitHub/Human_Activity__Dataset")
getwd
getwd()
source("run_analysis.R")
resu <- readTest()
head(resu)
head(resu)[1:5,1:5]
filepath_General <- "UCI HAR Dataset/test/"
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_measurement <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
testFiles <- data.frame(filepath_General, file_subject, file_measurement, file_activity_code)
testFiles
source("run_analysis.R")
main()
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_measurement <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
testFiles <- data.frame(file_subject, file_measurement, file_activity_code).
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_measurement <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
testFiles <- data.frame(file_subject, file_measurement, file_activity_code)
testFiles$file_subject
class(testFiles)
class(testFiles$file_subject)
subject <- scan(testFiles$file_subject, numeric())
file_subject <- paste(filepath_General,"subject_test.txt", sep = "")
file_measurement <- paste(filepath_General,"X_test.txt", sep = "")
file_activity_code <- paste(filepath_General,"y_test.txt", sep = "")
testFiles <- data.frame(file_subject, file_measurement, file_activity_code, stringsAsFactors=FALSE)
class(testFiles$file_subject)
source("run_analysis.R")
main()
source("run_analysis.R")
resu <- main()
resu[1:5,1:5]
resu[1:50,1:5]
source("run_analysis.R")
resu <- main()
source("run_analysis.R")
resu <- main()
source("run_analysis.R")
resu <- main()
dim(resu)
resu[1:25,1:10]
resu[1:25,1:8]
resu[1:50,1:8]
table(resu$subject,resu$activity_label,...)
tapply(resu$subject,resu$activity_label,mean)
?aggregate
